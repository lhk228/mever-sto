<link rel="stylesheet" href="resource/css/page/page_webina.css">

<div id="PROJECT_WEBINA" class="flex-column-start nowrap">
	<div class="flex-row-start nowrap h-full w-full">
		<div id="LANDING_INPUT" page="1">
			<h2>[ 페이지 커스터마이징 ]</h2>
			<input  id="HEADER_INPUT" class='header-input' type="text" placeholder="헤더명을 입력해주세요">
			
			<!-- 3D웹, 동영상 링크 -->
			<div id="UPLOAD_VIDEO_BOX" class="video-box flex-row-center" style="margin-top:0;">동영상 링크를 넣어주세요</div>

			<!-- 설명(컨텐츠)입력 -->
			<div id="CONTENT_INPUT" class="content-box" contenteditable="true"><span id="INIT_SPAN" style="color:#999">컨텐츠 입력</span></div>

			<div class="consult-box flex-column-start">
				<input type="text" placeholder="이름 입력박스" readonly>
				<input type="text" placeholder="이메일 입력박스" readonly>
			</div>
			<button id="INIT_WRITE_THINGS" class="btn btn_purple w-full" style="margin-top:8px;">초기화</button>

			<!-- 추가 팝업 -->
			<div id="POPUP_MARKETING" class="popup-container flex-row-center" style="display:none;">
				<div class="popup video-popup" style="top:0; display:none;">
					<div class="popup-header">동영상 추가하기 <i class="fa-solid fa-xmark btn_popup_close z-10"></i></div>
					<div class="popup-main">
						<input id="INPUT_VIDEO_LINK" type="text" placeholder="동영상 링크를 넣어주세요">
					</div>
					<div class="popup-bottom justify-end pt-0">
						<button id="BTN_VIDEO_CONFIRM" class="btn btn_magenta w-full h-full">확인</button>
					</div>
				</div>
			</div>
		</div>

		<div class="arrow-box h-full"><i id="APPLY_WRITE_THINGS" class="fa-solid fa-right-left"></i></div>
		<!-- 결과 랜더링 -->
		<div id="LANDING_RESULT" page="2">
			<h2>[ 유저 페이지뷰 ]</h2>
			<p id="HEADER_RESULT">헤더</p>
			
			<div id="VIDEO_RESULT" class="video-box flex-row-center" style="cursor:default;"></div>

			<div id="CONTENT_RESULT" class="content-box"></div>

			<div class="consult-box">
				<input id="INPUT_NAME" type="text" placeholder="이름을 입력해주세요">
				<input id="INPUT_EMAIL" type="text" placeholder="이메일주소를 입력해주세요">
			</div>

			<button id="BTN_SUBMIT" class="btn btn_magenta w-full">제출</button>
		</div>
	</div>
	<button id="BTN_SUBMIT" class="btn btn_white w-full">다음단계로</button>
</div>

<script>
$(function(){
	//스크롤 적용
	$("#MARKETING_PAGE").niceScroll();

	//비디오추가 : 팝업보여주기
	$("#UPLOAD_VIDEO_BOX").click(function(){
		$("#POPUP_MARKETING").show();
		$(".video-popup").show().css({top:0});
	});
	
	//비디오추가 : 팝업입력 적용
	$(`#BTN_VIDEO_CONFIRM`).click(function (){ 
		let video = $(`#INPUT_VIDEO_LINK`).val();
		$("#UPLOAD_VIDEO_BOX").html(video);
	});

	$(`#BTN_3D_CONFIRM`).click(function (){ 
		let iframe = $(`#INPUT_3D_LINK`).val();
		$(".canvas-box").html(iframe);
	});

	//팝업닫기클릭
	$(".btn_popup_close").click(function(){
		$(".popup-container").fadeOut();
	});

	//컨텐츠 입력시
	$("#CONTENT_INPUT").click(function(){$("#INIT_SPAN").text('');});

	//입력 적용
	$("#APPLY_WRITE_THINGS").click(function(){
		let headerInput = $("#HEADER_INPUT").val();
		let videoInput = $(`#INPUT_VIDEO_LINK`).val();
		let contentInput =$("#CONTENT_INPUT").html()
		let pageObject = { headerInput, videoInput, contentInput}

		$("#HEADER_RESULT").text(headerInput);
		$("#VIDEO_RESULT").html(videoInput);
		$("#CONTENT_RESULT").html(contentInput);
		// context = replaceAll(context,'\n','');
		// context = replaceAll(context,'\t','');
	});


	//입력 초기화
	$("#INIT_WRITE_THINGS").click(function(){
		$("#HEADER_INPUT").val("");
		$("#INPUT_VIDEO_LINK").val("");
		$("#UPLOAD_VIDEO_BOX").html("동영상 링크를 넣어주세요")
		$("#CONTENT_INPUT").html(`<span id="INIT_SPAN" style="color:#999">컨텐츠 입력</span>`);
	});
})

</script>